# 用户旅程地图 - AI-as-Me v3.4.3

**版本**: v3.4.3  
**主题**: Vibe-Kanban 任务管理完整旅程  
**日期**: 2026-01-17  
**设计者**: Sally (UX Designer) + Mary (Analyst)

---

## 用户画像

### 主要用户：项目管理者 - 张明
- **背景**：技术项目经理，管理多个并行项目
- **目标**：高效管理任务，确保团队清楚每个任务的目标
- **痛点**：任务描述不清晰导致返工，任务状态难以追踪
- **技能**：熟悉看板方法，喜欢简洁直观的工具
- **使用场景**：每天早上查看看板，随时记录新想法，定期澄清任务

---

## 旅程阶段

### 阶段 1: 灵感捕获 💡

**场景**: 张明在会议中突然想到一个功能改进点

| 维度 | 内容 |
|------|------|
| **用户行为** | 打开Dashboard → 点击"创建任务" → 快速输入描述 → 提交 |
| **用户目标** | 快速记录想法，不丢失灵感 |
| **触点** | 首页快速创建入口 / Kanban页面创建按钮 |
| **用户想法** | "先记下来，回头再想清楚细节" |
| **情感曲线** | 😊 轻松 → 😌 安心（已记录） |
| **痛点** | ⚠️ 如果创建流程复杂，会打断思路 |
| **成功标准** | 任务出现在inbox，文件已保存 |
| **对应用户故事** | US-1: 创建任务 |

**验证检查点**:
- [ ] 首页有明显的"创建任务"入口
- [ ] 创建表单只需填写标题和描述（最小化）
- [ ] 提交后立即在inbox看到新任务
- [ ] kanban/inbox/目录生成.md文件

---

### 阶段 2: 任务澄清 🎯

**场景**: 张明有空闲时间，开始整理inbox中的任务

| 维度 | 内容 |
|------|------|
| **用户行为** | 查看inbox → 选择任务 → 点击"澄清" → 填写目标、验收标准、工具、时间 → 提交 |
| **用户目标** | 把模糊想法变成可执行的任务 |
| **触点** | Kanban页面 → 任务卡片 → 澄清按钮 → 澄清弹窗 |
| **用户想法** | "这个任务到底要达成什么？怎么算完成？" |
| **情感曲线** | 🤔 思考 → ✍️ 专注 → ✅ 满足（任务清晰了） |
| **痛点** | ⚠️ 不知道如何写好验收标准<br>⚠️ 时间估算不准确 |
| **成功标准** | 任务自动移到todo，clarified=true |
| **对应用户故事** | US-2: 澄清任务 |

**验证检查点**:
- [ ] inbox任务卡片显示"澄清"按钮
- [ ] 点击后弹出澄清表单
- [ ] 表单包含：目标、验收标准（可添加多条）、工具、时间估算
- [ ] 验收标准至少填写1条才能提交
- [ ] 提交后任务移到todo列
- [ ] 任务文件移动到kanban/todo/目录

---

### 阶段 3: 任务规划 📋

**场景**: 张明查看todo列表，决定今天要做什么

| 维度 | 内容 |
|------|------|
| **用户行为** | 查看todo列 → 评估优先级 → 选择任务 → 移动到doing |
| **用户目标** | 选择最重要的任务开始执行 |
| **触点** | Kanban页面 → todo列 → 任务卡片 → 移动操作 |
| **用户想法** | "这些任务都清楚了，先做哪个？" |
| **情感曲线** | 🧐 评估 → 💪 决心（开始干！） |
| **痛点** | ⚠️ 任务太多不知道优先级<br>⚠️ 任务之间有依赖关系 |
| **成功标准** | 任务移到doing，状态更新 |
| **对应用户故事** | US-3: 查看看板（隐含的移动功能） |

**验证检查点**:
- [ ] todo列显示所有已澄清的任务
- [ ] 任务卡片显示优先级标签（P1/P2/P3）
- [ ] 可以拖拽或点击按钮移动任务到doing
- [ ] 任务文件移动到kanban/doing/目录

---

### 阶段 4: 提交给Agent 🤖

**场景**: 张明将任务移到doing，等待Agent自动执行

| 维度 | 内容 |
|------|------|
| **用户行为** | 移动任务到doing → 查看Agent状态 → 启动Agent（如需要） |
| **用户目标** | 让Agent自动执行任务 |
| **触点** | Kanban页面 → doing列 → Agent状态栏 |
| **用户想法** | "Agent在运行吗？它会自动处理这个任务" |
| **情感曲线** | 🤖 期待 → 👀 确认Agent状态 |
| **痛点** | ⚠️ 不知道Agent是否运行<br>⚠️ 不知道如何启动Agent |
| **成功标准** | Agent状态显示"运行中"，doing任务被监控 |
| **对应用户故事** | US-4: 查看Agent状态, US-5: 启动Agent |

**验证检查点**:
- [ ] 看板顶部显示Agent状态栏
- [ ] 显示Agent运行状态（🤖运行中 或 😴未启动）
- [ ] 显示Agent PID和启动时间
- [ ] 显示doing任务数量
- [ ] Doing任务显示"Agent监控中"或"等待Agent启动"
- [ ] 状态每5秒自动刷新

---

### 阶段 4.5: Agent自动执行 ⚙️

**场景**: Agent检测到doing任务并自动执行

| 维度 | 内容 |
|------|------|
| **用户行为** | 等待Agent处理 → 查看Agent状态 → 查看任务详情 |
| **用户目标** | Agent自动完成任务 |
| **触点** | Agent后台服务 → 文件系统监控 |
| **用户想法** | "Agent在处理任务，我可以做其他事情" |
| **情感曲线** | 😌 放心 → 🎯 专注其他工作 |
| **痛点** | ⚠️ 不知道Agent执行进度<br>⚠️ 无法实时查看执行日志 |
| **成功标准** | Agent执行任务，结果保存到done目录 |
| **对应用户故事** | US-5: 启动Agent自动执行 |

**验证检查点**:
- [ ] Agent进程正在运行
- [ ] Agent监控kanban/doing/目录
- [ ] Agent检测到任务文件
- [ ] Agent调用TaskExecutor执行
- [ ] 执行结果保存到done目录
- [ ] 任务文件移动到done目录

---

### 阶段 5: 任务完成 ✅

**场景**: 张明确认Agent执行完成，查看结果并标记完成

| 维度 | 内容 |
|------|------|
| **用户行为** | 查看done目录 → 查看任务详情 → 点击"标记完成" |
| **用户目标** | 确认任务完成，更新看板状态 |
| **触点** | 文件系统 / Kanban页面 → doing列 → 完成按钮 |
| **用户想法** | "Agent帮我完成了！确认一下结果" |
| **情感曲线** | ✅ 满足 → 🎉 成就感（Agent帮我完成了！） |
| **痛点** | ⚠️ 需要手动确认Agent执行结果 |
| **成功标准** | 任务移到done，看板更新，显示庆祝动画 |
| **对应用户故事** | US-6: 查看看板, US-7: 查看任务详情 |

**验证检查点**:
- [ ] 可以移动任务从doing到done
- [ ] 任务文件移动到kanban/done/目录
- [ ] done列显示已完成任务
- [ ] 显示完成庆祝动画（🎉）
- [ ] 可以查看任务详情确认结果

---

### 阶段 6: 回顾反思 🔄

**场景**: 张明查看done列表，回顾Agent帮他完成的任务

| 维度 | 内容 |
|------|------|
| **用户行为** | 查看done列 → 点击任务查看详情 → 统计完成数量 |
| **用户目标** | 了解工作进展，评估Agent执行质量 |
| **触点** | Kanban页面 → done列 → 任务详情弹窗 |
| **用户想法** | "这周Agent帮我完成了多少任务？" |
| **情感曲线** | 📊 回顾 → 💡 洞察 → 😊 满意 |
| **痛点** | ⚠️ 缺少统计数据<br>⚠️ 无法查看Agent执行历史 |
| **成功标准** | 能看到所有已完成任务和详情 |
| **对应用户故事** | US-6: 查看看板, US-7: 查看任务详情 |

**验证检查点**:
- [ ] done列显示所有已完成任务
- [ ] 可以点击任务查看详情
- [ ] 任务详情显示完整信息
- [ ] （未来）统计功能：完成数量、Agent执行成功率等

---

### 阶段 7: Agent自动化工作流 🤖

**场景**: 张明启动Agent后台服务，实现全自动任务执行

| 维度 | 内容 |
|------|------|
| **用户行为** | 运行start_agent.py → Agent监控doing目录 → 自动执行任务 |
| **用户目标** | 实现全自动任务执行，解放双手 |
| **触点** | 命令行 / 后台服务 / Agent状态栏 |
| **用户想法** | "让Agent自动处理，我去做更重要的事" |
| **情感曲线** | 🚀 兴奋 → 😌 放心 → 🎯 专注其他工作 |
| **痛点** | ⚠️ 不知道Agent是否正常运行<br>⚠️ 无法实时查看Agent状态 |
| **成功标准** | Agent持续运行，自动执行任务，UI显示状态 |
| **对应用户故事** | US-4: 查看Agent状态, US-5: 启动Agent |

**验证检查点**:
- [ ] 可以启动Agent后台服务
- [ ] Agent监控doing目录
- [ ] 检测到任务自动执行
- [ ] UI显示Agent运行状态
- [ ] Agent状态每5秒刷新
- [ ] Agent日志记录执行过程

---

## 关键发现与改进建议

### 🎯 核心体验亮点
1. **Inbox作为缓冲区** - 允许快速记录，延迟思考
2. **强制澄清流程** - 确保任务质量，减少返工
3. **可视化看板** - 一目了然的状态追踪
4. **AI自动执行** - 解放双手，让AI帮你完成任务
5. **实时执行监控** - 透明化AI执行过程
6. **混合执行模式** - 手动触发 + 自动执行，灵活切换

### ⚠️ 潜在痛点
1. **澄清门槛** - 新用户可能不知道如何写好验收标准 → 已添加引导和示例
2. **执行透明度** - 不知道AI在做什么 → 已添加实时状态和日志查看
3. **执行时间不确定** - 不知道要等多久 → 需要添加时间估算
4. **结果验证** - 需要人工验证AI执行结果 → 需要自动化验证机制
5. **Agent监控** - 不知道Agent是否正常运行 → 需要Agent健康检查

### 💡 快速改进建议
1. ~~在澄清表单添加示例和提示~~ ✅ 已完成
2. ~~任务完成时显示庆祝动画~~ ✅ 已完成
3. ~~添加任务执行功能~~ ✅ 已完成
4. ~~添加执行日志查看器~~ ✅ 已完成
5. 添加执行时间估算和进度条
6. 添加Agent健康状态监控
7. 添加任务搜索和过滤功能
8. 提供验收标准模板

---

## 情感曲线图

```
高 😊 |                    🤖      ✅🎉
     |        ✍️           /  \    /
     |       /  \         /    \  /
     |      /    \       /      \/
     |     /      \     /       
     | 😊 /        🤔  /        
     |   /              \
低 😐 |__________________📊🚀____
     灵感  澄清  规划  执行  监控  完成  回顾  自动化
     捕获  任务        任务  执行        
```

**关键洞察**：
- 澄清阶段需要思考，情感略低 → 已添加引导和示例
- **执行阶段新增期待感** → AI帮我做任务，解放双手
- **监控阶段提供透明度** → 实时查看AI在做什么
- 完成阶段情感最高 → 已强化庆祝动画
- **自动化模式带来持续满足感** → 无需人工干预

---

## E2E验证清单

基于用户旅程，完整的E2E验证应该包括：

### ✅ 阶段1验证：灵感捕获
- [ ] 访问首页或Kanban页面
- [ ] 点击"创建任务"按钮
- [ ] 填写任务标题和描述
- [ ] 提交后任务出现在inbox
- [ ] 验证文件：kanban/inbox/{task-id}.md存在

### ✅ 阶段2验证：任务澄清
- [ ] 在inbox中找到刚创建的任务
- [ ] 点击"澄清"按钮
- [ ] 填写目标、验收标准（至少1条）、工具、时间估算
- [ ] 提交后任务移动到todo
- [ ] 验证文件：kanban/todo/{task-id}.md存在
- [ ] 验证frontmatter：clarified=true

### ✅ 阶段3验证：任务规划
- [ ] 在todo列查看任务
- [ ] 任务显示优先级标签
- [ ] 移动任务到doing
- [ ] 验证文件：kanban/doing/{task-id}.md存在

### ✅ 阶段4验证：任务执行
- [ ] doing任务显示"⚡ 执行"按钮
- [ ] 点击执行按钮触发任务执行
- [ ] 任务状态变为"执行中"
- [ ] 显示旋转的⚙️图标
- [ ] 执行完成后状态变为"✅ 执行完成"
- [ ] 执行失败后状态变为"❌ 执行失败"

### ✅ 阶段4.5验证：监控执行
- [ ] doing任务显示"📋"日志按钮
- [ ] 点击日志按钮打开执行日志弹窗
- [ ] 显示执行状态（未开始/执行中/完成/失败）
- [ ] 显示开始时间和完成时间
- [ ] 显示详细日志，按级别彩色显示
- [ ] 执行完成后显示结果
- [ ] 执行失败后显示错误信息
- [ ] 日志每3秒自动刷新

### ✅ 阶段5验证：任务完成
- [ ] 移动任务从doing到done
- [ ] 验证文件：kanban/done/{task-id}.md存在
- [ ] done列显示已完成任务

### ✅ 阶段6验证：回顾反思
- [ ] 查看done列的所有任务
- [ ] 点击查看已完成任务详情
- [ ] 可以查看已完成任务的执行日志

### ✅ 阶段7验证：自动化工作流
- [ ] 可以启动Agent后台服务（python start_agent.py）
- [ ] Agent显示初始化成功信息
- [ ] Agent监控kanban/doing/目录
- [ ] 创建任务并移到doing
- [ ] Agent自动检测并执行任务
- [ ] UI显示执行状态更新
- [ ] Agent日志记录执行过程

### ✅ 边界情况验证
- [ ] 尝试移动未澄清的inbox任务到todo（应该被阻止）
- [ ] 尝试回退任务：doing → todo
- [ ] 尝试回退任务：todo → inbox
- [ ] 删除任务，验证文件被删除
- [ ] 尝试执行非doing状态的任务（应该被阻止）
- [ ] 尝试重复执行正在执行的任务（应该被阻止）
- [ ] 查看不存在任务的执行日志（应该显示"未开始"）

### ✅ API验证
- [ ] POST /api/kanban/tasks/{id}/execute - 触发执行
- [ ] GET /api/kanban/tasks/{id}/execution - 获取执行状态
- [ ] GET /api/kanban/execution/active - 获取活跃执行列表

---

## 下一步行动

1. **立即执行E2E验证** - 按照上述清单手动或自动化测试
2. **记录体验问题** - 发现的任何卡顿、困惑、错误
3. **优化用户体验** - 基于验证结果改进UI/UX
4. **补充PRD** - 将用户旅程地图添加到PRD文档

---

**创建者**: Sally (UX Designer) + Mary (Analyst) + BMad Master  
**审核者**: 待验证  
**状态**: Draft - 待E2E验证确认
